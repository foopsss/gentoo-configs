# Hook for gnome-base/gnome-session.
# This hook changes the extension of the gnome-custom-session.desktop
# file at "/usr/share/xsessions" to make sure it does not show up on
# GDM. The "GNOME on X.org" entry is all I need.
post_pkg_postinst() {
    local custom_session_loc=${EROOT}/usr/share/xsessions/gnome-custom-session.desktop

    if [[ -e ${custom_session_loc} ]]; then
        ebegin "Removing some custom X session files..."
        local return=0
        local custom_session_backup_loc=${EROOT}/usr/share/xsessions/gnome-custom-session.backup
        mv -f ${custom_session_loc} ${custom_session_backup_loc} || ( return=1 )
        eend ${return} || ewarn "No se pudo renombrar ${custom_session_loc}"
    fi
}
